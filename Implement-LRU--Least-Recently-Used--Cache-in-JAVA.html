<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Implement LRU (Least Recently Used) Cache in JAVA</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Implement LRU (Least Recently Used) Cache in JAVA</h1>
</header>
<section data-field="subtitle" class="p-summary">
Cache is a small temporary storage area used to store frequently needed data by your application and access it quickly. This improves the…
</section>
<section data-field="body" class="e-content">
<section name="cac1" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d49a" id="d49a" class="graf graf--h3 graf--leading graf--title">Implement LRU (Least Recently Used) Cache in JAVA</h3><figure name="656b" id="656b" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="0*NEl-eVaXh-uuLCJW" data-width="4553" data-height="3372" data-unsplash-photo-id="vAfb91M0Wec" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*NEl-eVaXh-uuLCJW"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@campbellcreates?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@campbellcreates?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener" target="_blank">Rebecca Campbell</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener" target="_blank">Unsplash</a></figcaption></figure><p name="872b" id="872b" class="graf graf--p graf--hasDropCapModel graf--hasDropCap graf-after--figure"><span class="graf-dropCap">C</span>ache is a small temporary storage area used to store frequently needed data by your application and access it quickly. This improves the latency compared to when read from the original persistent storage.</p><p name="f8ed" id="f8ed" class="graf graf--p graf-after--p">Since the cache is a small storage area, once it is filled, we need a mechanism to determine which data needs to be cleared to make room for the data our application requires next. This is called the Eviction policy. Below are different cache eviction policies:</p><ul class="postList"><li name="b036" id="b036" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Least Recently Used (LRU)</strong> : Remove the data that has not been used/accessed recently.</li><li name="967e" id="967e" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Least Frequently Used(LFU)</strong> : Remove the data that is accessed less often.</li><li name="bc47" id="bc47" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">First-In-First-Out(FIFO)</strong> : Remove the data that was added first to the cache.</li><li name="3611" id="3611" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Random Replacement : </strong>Remove any data randomly.</li></ul><p name="2085" id="2085" class="graf graf--p graf-after--li graf--trailing">From the above description, LRU and FIFO policies seem similar, but there is a slight difference. In LRU, the data is removed based on the last usage time. However, in FIFO, even if the data has been used recently, it will be removed based on the time it was added to the cache.</p></div></div></section><section name="8c2b" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="d641" id="d641" class="graf graf--p graf--leading">Here, let&#39;s explore how we can implement an LRU caching mechanism. As mentioned above, we will remove the data that has not been accessed recently. But how will we know when the data was last used?</p><p name="7445" id="7445" class="graf graf--p graf-after--p">One solution is to include a timestamp with the data whenever a cache entry is made and check the timestamp in each cache operation. Alternatively, we can go with a data structure for this. As many might guess, we can use a linked list. Store data in it until the required capacity is reached. So, the data at the beginning is the least recently used, and the data at the end is recently used. Once the limit is met, remove the data at the beginning. Whenever data stored in the cache is read, move it to the end to mark it as recently used.</p><p name="c1fc" id="c1fc" class="graf graf--p graf-after--p">Consider a use case where we need to cache Student details. Let&#39;s have a corresponding Java class as below:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="typescript" name="f8fd" id="f8fd" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">package com.<span class="hljs-property">example</span>.<span class="hljs-property">least_recently_used_cache_overview</span>.<span class="hljs-property">model</span>;<br /><br /><span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Objects</span>;<br /><br /><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentCacheData</span> {<br /><br />    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> dataKey;<br />    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> dataDetails;<br /><br />    <span class="hljs-keyword">public</span> <span class="hljs-title class_">StudentCacheData</span>(<span class="hljs-title class_">String</span> dataKey, <span class="hljs-title class_">String</span> dataDetails) {<br />        <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataKey</span> = dataKey;<br />        <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataDetails</span> = dataDetails;<br />    }<br /><br />    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getDataKey</span>(<span class="hljs-params"></span>) {<br />        <span class="hljs-keyword">return</span> dataKey;<br />    }<br /><br />    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setDataKey</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> dataKey</span>) {<br />        <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataKey</span> = dataKey;<br />    }<br /><br />    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getDataDetails</span>(<span class="hljs-params"></span>) {<br />        <span class="hljs-keyword">return</span> dataDetails;<br />    }<br /><br />    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setDataDetails</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> dataDetails</span>) {<br />        <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataDetails</span> = dataDetails;<br />    }<br /><br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">equals</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> o</span>) {<br />        <span class="hljs-keyword">if</span> (o == <span class="hljs-literal">null</span> || <span class="hljs-title function_">getClass</span>() != o.<span class="hljs-title function_">getClass</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br />        <span class="hljs-title class_">StudentCacheData</span> that = (<span class="hljs-title class_">StudentCacheData</span>) o;<br />        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Objects</span>.<span class="hljs-title function_">equals</span>(dataKey, that.<span class="hljs-property">dataKey</span>) &amp;&amp; <span class="hljs-title class_">Objects</span>.<span class="hljs-title function_">equals</span>(dataDetails, that.<span class="hljs-property">dataDetails</span>);<br />    }<br /><br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-keyword">public</span> int <span class="hljs-title function_">hashCode</span>(<span class="hljs-params"></span>) {<br />        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Objects</span>.<span class="hljs-title function_">hash</span>(dataKey, dataDetails);<br />    }<br /><br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) {<br />        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;StudentCacheData{&quot;</span> +<br />                <span class="hljs-string">&quot;dataKey=&#x27;&quot;</span> + dataKey + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br />                <span class="hljs-string">&quot;, dataDetails=&#x27;&quot;</span> + dataDetails + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br />                <span class="hljs-string">&#x27;}&#x27;</span>;<br />    }<br />}</span></pre><p name="26d7" id="26d7" class="graf graf--p graf-after--pre">Let&#39;s assume our cache capacity is 4. All Operations on the cache can be as below:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="java" name="fbeb" id="fbeb" class="graf graf--pre graf-after--p graf--trailing graf--preV2"><span class="pre--content"><span class="hljs-keyword">package</span> com.example.least_recently_used_cache_overview.service;<br /><br /><span class="hljs-keyword">import</span> com.example.least_recently_used_cache_overview.model.StudentCacheData;<br /><span class="hljs-keyword">import</span> java.util.LinkedList;<br /><span class="hljs-keyword">import</span> java.util.List;<br /><br /><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentCacheService</span> {<br /><br />    <span class="hljs-keyword">static</span> List&lt;StudentCacheData&gt; cacheData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br />    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CAPACITY</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;<br /><br />    <span class="hljs-comment">/**<br />     * To add data to cache given dataKey and dataDetails<br />     * <span class="hljs-doctag">@param</span> dataKey<br />     * <span class="hljs-doctag">@param</span> dataDetails<br />     * <span class="hljs-doctag">@return</span><br />     */</span><br />    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">addData</span><span class="hljs-params">( String dataKey, String dataDetails)</span> {<br />        <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">studentCacheData</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(dataKey, dataDetails);<br />        <span class="hljs-comment">// add element at end</span><br />        addData(studentCacheData);<br />        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;done&quot;</span>;<br />    }<br /><br />    <span class="hljs-comment">/***<br />     * To add data to cache given studentCacheData<br />     * <span class="hljs-doctag">@param</span> studentCacheData<br />     */</span><br />    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addData</span><span class="hljs-params">(StudentCacheData studentCacheData)</span> {<br />        <span class="hljs-comment">// if CAPACITY is reached remove element from beginning</span><br />        <span class="hljs-keyword">if</span>(cacheData.size() == CAPACITY) {<br />            System.out.println(<span class="hljs-string">&quot;cache is full to add data:&quot;</span>+ studentCacheData.getDataKey()+<span class="hljs-string">&quot;. So removing data&quot;</span>);<br />            System.out.println(<span class="hljs-string">&quot;before removing, data:&quot;</span>+cacheData);<br />            cacheData.remove(<span class="hljs-number">0</span>);<br />            System.out.println(<span class="hljs-string">&quot;after removing, data:&quot;</span>+cacheData);<br />        }<br />        <span class="hljs-comment">// add element at end</span><br />        cacheData.add(studentCacheData);<br />        System.out.println(<span class="hljs-string">&quot;after adding, data:&quot;</span>+cacheData);<br />    }<br /><br />    <span class="hljs-comment">/**<br />     * To retrive data from cache for given dataKey<br />     * <span class="hljs-doctag">@param</span> dataKey<br />     * <span class="hljs-doctag">@return</span><br />     */</span><br />    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getData</span><span class="hljs-params">(String dataKey)</span> {<br />        System.out.println(<span class="hljs-string">&quot;before getting data:&quot;</span>+cacheData);<br />        <span class="hljs-type">boolean</span> <span class="hljs-variable">present</span> <span class="hljs-operator">=</span> cacheData.stream().anyMatch(m -&gt; m.getDataKey().equals(dataKey));<br />        <span class="hljs-keyword">if</span>(!present) {<br />            System.out.println(<span class="hljs-string">&quot;Data not present in cache, reading from DB&quot;</span>);<br />            <span class="hljs-comment">// check actual DB for data, put in cache and return</span><br />            <span class="hljs-type">String</span> <span class="hljs-variable">dataDesc</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;data from DB&quot;</span>;<br />            <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">studentCacheData</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(dataKey, dataDesc);<br />            System.out.println(<span class="hljs-string">&quot;read data from DB...&quot;</span>);<br />            addData(studentCacheData);<br />            <span class="hljs-keyword">return</span> dataDesc;<br />        }<br />        <span class="hljs-comment">// if present, remove existing and add in end</span><br />        <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">studentCacheData</span> <span class="hljs-operator">=</span> cacheData.stream().filter(m -&gt; m.getDataKey().equals(dataKey)).findAny().get();<br />        cacheData.remove(studentCacheData);<br />        System.out.println(<span class="hljs-string">&quot;marking existing data:&quot;</span>+studentCacheData.getDataKey() +<span class="hljs-string">&quot; as recently used&quot;</span>);<br />        cacheData.add(studentCacheData);<br />        System.out.println(<span class="hljs-string">&quot;cache data :&quot;</span>+cacheData);<br /><br />        <span class="hljs-keyword">return</span> studentCacheData.getDataDetails();<br />    }<br />}</span></pre></div></div></section><section name="ffed" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="5b0a" id="5b0a" class="graf graf--p graf--leading">Let&#39;s test this by adding elements more than the capacity of the cache:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="java" name="e051" id="e051" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">package</span> com.example.least_recently_used_cache_overview;<br /><br /><span class="hljs-keyword">import</span> com.example.least_recently_used_cache_overview.model.StudentCacheData;<br /><span class="hljs-keyword">import</span> com.example.least_recently_used_cache_overview.service.StudentCacheService;<br /><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br /><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br /><span class="hljs-keyword">import</span> java.util.Arrays;<br /><span class="hljs-keyword">import</span> java.util.List;<br /><br /><span class="hljs-meta">@SpringBootApplication</span><br /><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LeastRecentlyUsedCacheOverviewApplication</span> {<br /><br /> <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {<br />  SpringApplication.run(LeastRecentlyUsedCacheOverviewApplication.class, args);<br /><br />  <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">data1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;descA&quot;</span>);<br />  <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">data2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;descB&quot;</span>);<br />  <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">data3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(<span class="hljs-string">&quot;c&quot;</span>,<span class="hljs-string">&quot;descC&quot;</span>);<br />  <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">data4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(<span class="hljs-string">&quot;d&quot;</span>,<span class="hljs-string">&quot;descD&quot;</span>);<br />  <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">data5</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(<span class="hljs-string">&quot;e&quot;</span>,<span class="hljs-string">&quot;descE&quot;</span>);<br />  <span class="hljs-type">StudentCacheData</span> <span class="hljs-variable">data6</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheData</span>(<span class="hljs-string">&quot;f&quot;</span>,<span class="hljs-string">&quot;descF&quot;</span>);<br /><br />  List&lt;StudentCacheData&gt; dataList = Arrays.asList(data1, data2, data3, data4, data5, data6);<br /><br />  <span class="hljs-type">StudentCacheService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentCacheService</span>();<br />  System.out.println(<span class="hljs-string">&quot;adding data to cache =========&gt; \n&quot;</span>);<br />  <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">6</span>;i++) {<br />   service.addData(dataList.get(i).getDataKey(), dataList.get(i).getDataDetails());<br />  }<br /><br />  System.out.println(<span class="hljs-string">&quot;reading data from cache =========&gt; \n&quot;</span>);<br />  service.getData(<span class="hljs-string">&quot;c&quot;</span>);<br /><br />  System.out.println(<span class="hljs-string">&quot;\nreading data which is unavailable in cache =========&gt; \n&quot;</span>);<br />  service.getData(<span class="hljs-string">&quot;l&quot;</span>);<br /> }<br /><br />}</span></pre><p name="497f" id="497f" class="graf graf--p graf-after--pre">After executing, you can observe the cache contents in the console logs:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="kotlin" name="2262" id="2262" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">adding <span class="hljs-keyword">data</span> to cache =========&gt; <br /><br />after adding, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;a&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descA&#x27;</span>}]<br />after adding, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;a&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descA&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;b&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descB&#x27;</span>}]<br />after adding, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;a&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descA&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;b&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descB&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}]<br />after adding, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;a&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descA&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;b&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descB&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}]<br />cache <span class="hljs-keyword">is</span> full to add <span class="hljs-keyword">data</span>:e. So removing <span class="hljs-keyword">data</span><br />before removing, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;a&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descA&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;b&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descB&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}]<br />after removing, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;b&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descB&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}]<br />after adding, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;b&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descB&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}]<br />cache <span class="hljs-keyword">is</span> full to add <span class="hljs-keyword">data</span>:f. So removing <span class="hljs-keyword">data</span><br />before removing, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;b&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descB&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}]<br />after removing, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}]<br />after adding, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;f&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descF&#x27;</span>}]<br />reading <span class="hljs-keyword">data</span> from cache =========&gt; <br /><br />before getting <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;f&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descF&#x27;</span>}]<br />marking existing <span class="hljs-keyword">data</span>:c <span class="hljs-keyword">as</span> recently used<br />cache <span class="hljs-keyword">data</span> :[StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;f&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descF&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}]<br /><br />reading <span class="hljs-keyword">data</span> which <span class="hljs-keyword">is</span> unavailable <span class="hljs-keyword">in</span> cache =========&gt; <br /><br />before getting <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;f&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descF&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}]<br />Data not present <span class="hljs-keyword">in</span> cache, reading from DB<br />read <span class="hljs-keyword">data</span> from DB...<br />cache <span class="hljs-keyword">is</span> full to add <span class="hljs-keyword">data</span>:l. So removing <span class="hljs-keyword">data</span><br />before removing, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;d&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descD&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;f&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descF&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}]<br />after removing, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;f&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descF&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}]<br />after adding, <span class="hljs-keyword">data</span>:[StudentCacheData{dataKey=<span class="hljs-string">&#x27;e&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descE&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;f&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descF&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;c&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;descC&#x27;</span>}, StudentCacheData{dataKey=<span class="hljs-string">&#x27;l&#x27;</span>, dataDetails=<span class="hljs-string">&#x27;data from DB&#x27;</span>}]</span></pre><p name="538f" id="538f" class="graf graf--p graf-after--pre">The above operations can be visualised as below:</p><figure name="ab98" id="ab98" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Ktv8r5LV4tM-6e2fdiW0uw.png" data-width="1654" data-height="701" src="https://cdn-images-1.medium.com/max/800/1*Ktv8r5LV4tM-6e2fdiW0uw.png"></figure><p name="65b6" id="65b6" class="graf graf--p graf-after--figure">This is the basic implementation of LRU cache. It can be further enhanced based on usecase, such as to operate in a multi-threaded environment or to use as a centralized cache that will be accessed by multiple applications.</p><p name="c343" id="c343" class="graf graf--p graf-after--p">Thank you for reading. Happy exploring!!!</p><p name="2e72" id="2e72" class="graf graf--p graf-after--p graf--trailing">The complete code is available <a href="https://github.com/oldfr/least-recently-used-cache-overview" data-href="https://github.com/oldfr/least-recently-used-cache-overview" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@ankithahjpgowda" class="p-author h-card">Ankitha Gowda</a> on <a href="https://medium.com/p/063b08362807"><time class="dt-published" datetime="2025-05-01T12:11:57.750Z">May 1, 2025</time></a>.</p><p><a href="https://medium.com/@ankithahjpgowda/implement-lru-least-recently-used-cache-in-java-063b08362807" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 9, 2025.</p></footer></article></body></html>