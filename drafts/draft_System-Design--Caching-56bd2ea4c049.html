<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>System Design: Caching</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">System Design: Caching</h1>
</header>
<section data-field="subtitle" class="p-summary">
Cache is a temporary storage mechanism that stores data so that your application can access it quickly, thereby improving latency.
</section>
<section data-field="body" class="e-content">
<section name="1a10" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9bf5" id="9bf5" class="graf graf--h3 graf--leading graf--title">System Design: Caching</h3><p name="667e" id="667e" class="graf graf--p graf--empty graf-after--h3"><br></p><figure name="a839" id="a839" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*iKEcbdDchrfjrmp_" data-width="6000" data-height="3368" src="https://cdn-images-1.medium.com/max/800/0*iKEcbdDchrfjrmp_"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@annanes?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@annanes?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener" target="_blank">Ann Ann</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener" target="_blank">Unsplash</a></figcaption></figure><p name="758d" id="758d" class="graf graf--p graf-after--figure">Cache is a temporary storage mechanism that stores data so that your application can access it quickly, thereby improving latency.</p><p name="8a11" id="8a11" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Common terminologies:</strong></p><ul class="postList"><li name="4a7e" id="4a7e" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Cache Hit:</strong> When data needed by the application is available in the cache.</li><li name="f4c2" id="f4c2" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Miss:</strong> When data needed by the application is not available in cache.</li><li name="f701" id="f701" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Eviction:</strong> The process of removing data from the cache, typically to make space for new data.</li><li name="f12d" id="f12d" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Staleness:</strong> A situation where the data in the cache is outdated compared to the data in the primary storage.</li><li name="31e4" id="31e4" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Warm-Up:</strong> The process of preloading the cache with data before it is actively used to avoid cache misses in the early stages of usage.</li><li name="5728" id="5728" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache State</strong>: The status of data stored in a cache</li></ul><ol class="postList"><li name="d300" id="d300" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"> Hot</strong>: It contains data that is being accessed very frequently and recently.</li><li name="a25d" id="a25d" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Warm</strong>: Cache is not as actively used as a hot cache but still contains relatively frequently accessed data.</li><li name="4138" id="4138" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cold</strong>: Cache is first initialized and has not yet had any data loaded.</li></ol><p name="4541" id="4541" class="graf graf--p graf--empty graf-after--li"><br></p><p name="4946" id="4946" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Benefits:</strong></p><ul class="postList"><li name="3f1a" id="3f1a" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Reduced Latency</strong></li><li name="4a5f" id="4a5f" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Decreased Network Traffic</strong></li><li name="03e9" id="03e9" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Lower Load on Primary Data Stores</strong></li><li name="5776" id="5776" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Improved Performance</strong></li><li name="5f53" id="5f53" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Increased Throughput:</strong> Systems can handle more data and user requests in a given time.</li><li name="f8ec" id="f8ec" class="graf graf--li graf-after--li graf--trailing"><strong class="markup--strong markup--li-strong">Data Availability:</strong> In some caching strategies, data can still be available even if the primary data source is temporarily unavailable.</li></ul></div></div></section><section name="11c1" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="135f" id="135f" class="graf graf--p graf--leading"><strong class="markup--strong markup--p-strong">Challenges of using caching:</strong></p><ul class="postList"><li name="d12d" id="d12d" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Cache Coherence:</strong> Ensuring that data remains consistent across multiple caches in a distributed system.</li><li name="a846" id="a846" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Invalidation:</strong> Deciding when and how to update or remove data in the cache, especially when the original data changes.</li><li name="1e53" id="1e53" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Stale Data:</strong> Handling scenarios where data in the cache is outdated compared to the primary data source.</li><li name="4f91" id="4f91" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Sizing:</strong> Determining the optimal size of the cache to balance performance gains with resource usage.</li><li name="74b2" id="74b2" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Eviction Policies:</strong> Choosing appropriate algorithms for which data to keep in the cache and which to evict when the cache is full.</li><li name="2461" id="2461" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Data Locality:</strong> Ensuring data is stored in a cache close to where it is most frequently accessed to minimize latency.</li><li name="a79c" id="a79c" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Scalability:</strong> Ensuring the cache can scale as the amount of data and the number of users increase.</li><li name="a463" id="a463" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Warm-up Time:</strong> Managing the time for a cache to “warm up” and become effective after being cleared or created.</li><li name="d93a" id="d93a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Thundering Herd Problem:</strong> This occurs when a cached item expires, and multiple clients or processes simultaneously attempt to regenerate the same cache item, causing a surge in load on the data store or compute resources.</li><li name="3a4b" id="3a4b" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Cache Penetration:</strong> This happens when queries for non-existent data (not in cache or primary storage) repeatedly bypass the cache and hit the database, potentially leading to performance degradation.</li><li name="a234" id="a234" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Big Key Problem:</strong> Arises when a single cache key is associated with a large amount of data, leading to inefficiencies in cache utilization and potential performance issues.</li><li name="7244" id="7244" class="graf graf--li graf-after--li graf--trailing"><strong class="markup--strong markup--li-strong">Hot Key Challenge:</strong> Refers to a situation where a few keys are accessed much more frequently than others, causing load imbalances and potential bottlenecks in the caching system.</li></ul></div></div></section><section name="d549" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="bfa2" id="bfa2" class="graf graf--p graf--leading"><strong class="markup--strong markup--p-strong">Types of caching:</strong></p><ol class="postList"><li name="cd48" id="cd48" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Client Side:</strong> Caching web content in a browser or device to accelerate content retrieval.</li><li name="0fce" id="0fce" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">CDN (Content Delivery Network):</strong> Distributing content across multiple geographic locations to improve access speed.</li><li name="f611" id="f611" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Load Balancer / API Gateway:</strong> Balancing incoming network traffic and requests across multiple servers and potentially caching these requests.</li><li name="ad40" id="ad40" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Application:</strong> Caching within an application to improve performance and data access.</li><li name="88b8" id="88b8" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">CPU Cache:</strong> Stores frequently accessed data to reduce CPU access time.</li></ol><ul class="postList"><li name="8e96" id="8e96" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">L1</strong>: Instruction and Data</li><li name="6ee7" id="6ee7" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">L2</strong>: Shared or per-core L2 cache</li><li name="2261" id="2261" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">L3</strong>: Shared among multiple CPU cores</li></ul><p name="fc88" id="fc88" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">6. In-memory Cache:</strong> Caching data within a single application process.</p><p name="6d87" id="6d87" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">7. Shared Memory Cache:</strong> Sharing cached data across different processes in the same system.</p><p name="4507" id="4507" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">8. Disk Cache</strong>: Caching read operations from a physical disk.</p><p name="3763" id="3763" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">9. File System Caching</strong>: The file system may cache frequently accessed data and metadata.</p><ul class="postList"><li name="be6d" id="be6d" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Operating System-Level Disk Caches</strong>: Modern operating systems often employ disk caching to improve I/O performance system-wide.</li><li name="a274" id="a274" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Application-Specific Caches</strong>: Some applications implement their caching mechanisms to store and manage frequently used data.</li><li name="ebf5" id="ebf5" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Third-Party Caching Solutions</strong>: Some third-party caching solutions and libraries can be integrated into applications to provide caching capabilities.</li></ul><p name="a4bd" id="a4bd" class="graf graf--p graf-after--li">10. <strong class="markup--strong markup--p-strong">Distributed Cache:</strong> Sharing cache across multiple systems or services. Sharding techniques:</p><ul class="postList"><li name="12de" id="12de" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Key-Based Sharding</strong>: Data is partitioned and distributed across cache nodes based on the keys of cached items.</li><li name="7c26" id="7c26" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Range-based</strong>: Distributing data based on a range of values.</li><li name="e44f" id="e44f" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Hash-Based Sharding</strong>: Data is partitioned using a hash function that evenly distributes keys across multiple shards.</li><li name="2329" id="2329" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Consistent Hashing</strong>: This technique combines the benefits of key-based and hash-based sharding. It uses a consistent hashing algorithm to map keys to cache nodes, allowing for dynamic scaling without significant data redistribution.</li></ul><p name="7e6d" id="7e6d" class="graf graf--p graf-after--li">11. <strong class="markup--strong markup--p-strong">Full-text Search:</strong> Indexing and searching through documents or logs.</p><p name="42c9" id="42c9" class="graf graf--p graf-after--p graf--trailing"><strong class="markup--strong markup--p-strong">12. Database:</strong> Storing frequently accessed database queries and results to speed up future requests.</p></div></div></section><section name="a117" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="219c" id="219c" class="graf graf--h3 graf--leading">Top Caching Strategies</h3><p name="3b99" id="3b99" class="graf graf--p graf--empty graf-after--h3"><br></p><ol class="postList"><li name="6a40" id="6a40" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Cache aside (Lazy Loading):</strong> Loading data into the cache on demand. When an application requests data, it first checks the cache. If the data is not found (cache miss), it is fetched from the database and stored in the cache for future requests.</li><li name="ae6b" id="ae6b" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Read Through:</strong> Data is automatically loaded into the cache from the database when there is a cache miss. The application only interacts with the cache and not directly with the database for read operations.</li><li name="c873" id="c873" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Write around: </strong>When data is written, it is written directly to the database and not to the cache. The cache is only updated when data is read.</li><li name="128e" id="128e" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Write back (Write behind): </strong>Data is first written to the cache and then, after a certain amount of time or under certain conditions, written back to the database. This allows for batch updates.</li><li name="2259" id="2259" class="graf graf--li graf-after--li graf--trailing"><strong class="markup--strong markup--li-strong">Write through: </strong>Data is written simultaneously to the cache and the database. This ensures data consistency between the cache and database.</li></ol></div></div></section><section name="d258" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d256" id="d256" class="graf graf--h3 graf--leading">Cache Eviction Policies</h3><ol class="postList"><li name="cddf" id="cddf" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">First In, First Out (FIFO):</strong> Evicts the oldest items in the cache first, regardless of their usage frequency.</li><li name="45ba" id="45ba" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Least Recently Used (LRU):</strong> Evicts the least recently accessed items first, assuming that items not accessed recently are less likely to be accessed in the future.</li><li name="6bf3" id="6bf3" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Most Recently Used (MRU):</strong> Opposite of LRU, it evicts the most recently used items first. This can be useful when the most recent items are less likely to be reaccessed.</li><li name="bc05" id="bc05" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Least Frequently Used (LFU):</strong> Prioritizes eviction of least frequently accessed items, assuming frequent access implies future relevance.</li><li name="4594" id="4594" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Most Frequently Used (MFU)</strong>: Eviction policy is a cache eviction strategy where the cache identifies and removes the data items that are accessed most frequently.</li><li name="ffc7" id="ffc7" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Random Replacement (RR):</strong> Randomly selects a cache item to evict, which can be simpler to implement and effective in specific scenarios.</li><li name="c0ea" id="c0ea" class="graf graf--li graf-after--li graf--trailing"><strong class="markup--strong markup--li-strong">Size-Based Eviction:</strong> Evicts items based on their size to manage the memory footprint, often used in combination with other policies.</li></ol></div></div></section><section name="9795" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="205a" id="205a" class="graf graf--h3 graf--leading">Cache invalidation</h3><p name="19c9" id="19c9" class="graf graf--p graf--empty graf-after--h3"><br></p><ol class="postList"><li name="5054" id="5054" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Time to Live (TTL):</strong> Data is invalidated after a specified duration. When the TTL expires, the cached data is either automatically removed or marked as invalid. There are two approaches:</li></ol><ul class="postList"><li name="9550" id="9550" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Active expiration</strong>: A background process or thread periodically scans the cache to check the TTL of cache entries.</li><li name="5a8b" id="5a8b" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Passive expiration</strong>: Checks the TTL of a cache entry at its access time.</li></ul><p name="de1f" id="de1f" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">2. Write-Invalidate:</strong> When data is updated in the primary storage, corresponding cache entries are invalidated. This ensures consistency between the cache and the source.</p><p name="c47b" id="c47b" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">3. Change Notification:</strong> The cache listens for notifications from the data source about changes. When notified, the cache invalidates the relevant entries.</p><p name="9c60" id="9c60" class="graf graf--p graf-after--p graf--trailing"><strong class="markup--strong markup--p-strong">4. Polling:</strong> The cache periodically checks the validity of its entries by comparing them with the source data.</p></div></div></section><section name="753e" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f0ed" id="f0ed" class="graf graf--h3 graf--leading">Popular Caching Solutions</h3><ol class="postList"><li name="3ce2" id="3ce2" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">Redis:</strong> An in-memory data structure store used as a database, cache, and message broker, and known for its performance and flexibility.</li><li name="b1de" id="b1de" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Memcached:</strong> A high-performance, distributed memory object caching system primarily used for speeding up dynamic web applications by alleviating database load.</li><li name="9ccc" id="9ccc" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Ehcache:</strong> An open-source, Java-based cache that provides fast, off-heap storage. It’s widely used in Java applications for caching.</li><li name="3bc9" id="3bc9" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Apache Ignite:</strong> A distributed database, caching, and processing platform designed for transactional, analytical, and streaming workloads at a large scale.</li><li name="056a" id="056a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Hazelcast:</strong> An in-memory computing platform that provides distributed caching, messaging, and computing. Often used for performance-critical applications.</li><li name="2dbb" id="2dbb" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Squid:</strong> A caching and forwarding HTTP web proxy. It can cache web, DNS, and other computer network lookups for people sharing network resources.</li><li name="d7f6" id="d7f6" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">CDN Solutions (like Akamai, Cloudflare):</strong> These are not traditional caching solutions but are often used for caching static and dynamic content closer to the end users in distributed networks.</li></ol><p name="695f" id="695f" class="graf graf--p graf--empty graf-after--li"><br></p><p name="d57b" id="d57b" class="graf graf--p graf-after--p">Reference: </p><p name="5fee" id="5fee" class="graf graf--p graf-after--p">https://hackernoon.com/the-system-design-cheat-sheet-cache </p><p name="e4d2" id="e4d2" class="graf graf--p graf--empty graf-after--p graf--trailing"><br></p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/56bd2ea4c049">View original.</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 9, 2025.</p></footer></article></body></html>